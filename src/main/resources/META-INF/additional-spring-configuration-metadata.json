{
  "properties": [
    {
      "name": "apilog.enabled",
      "type": "java.lang.Boolean",
      "description": "Enable or disable the entire API logging filter.",
      "sourceType": "com.hshim.apilog.config.ApiLogProperties",
      "defaultValue": true
    },
    {
      "name": "apilog.app-name",
      "type": "java.lang.String",
      "description": "Logical name of this application. Included in every log entry as appName.",
      "sourceType": "com.hshim.apilog.config.ApiLogProperties",
      "defaultValue": ""
    },
    {
      "name": "apilog.exclude-paths",
      "type": "java.util.List<java.lang.String>",
      "description": "Ant-style URL path patterns to exclude from logging (e.g. /actuator/**).",
      "sourceType": "com.hshim.apilog.config.ApiLogProperties"
    },
    {
      "name": "apilog.include-paths",
      "type": "java.util.List<java.lang.String>",
      "description": "Ant-style URL path patterns to include for logging. When non-empty, only matching paths are logged (e.g. /api/**). Takes precedence over exclude-paths.",
      "sourceType": "com.hshim.apilog.config.ApiLogProperties"
    },
    {
      "name": "apilog.mask-headers",
      "type": "java.util.List<java.lang.String>",
      "description": "Request header names whose values are replaced with *** in the log.",
      "sourceType": "com.hshim.apilog.config.ApiLogProperties",
      "defaultValue": ["Authorization", "Cookie", "Set-Cookie"]
    },
    {
      "name": "apilog.mask-request-body",
      "type": "java.lang.Boolean",
      "description": "Replace the entire request body with *** instead of recording the actual content.",
      "sourceType": "com.hshim.apilog.config.ApiLogProperties",
      "defaultValue": false
    },
    {
      "name": "apilog.mask-response-body",
      "type": "java.lang.Boolean",
      "description": "Replace the entire response body with *** instead of recording the actual content.",
      "sourceType": "com.hshim.apilog.config.ApiLogProperties",
      "defaultValue": false
    },
    {
      "name": "apilog.max-body-size",
      "type": "java.lang.Integer",
      "description": "Maximum number of characters recorded for request/response bodies. Excess is truncated.",
      "sourceType": "com.hshim.apilog.config.ApiLogProperties",
      "defaultValue": 10000
    },
    {
      "name": "apilog.storage.db.enabled",
      "type": "java.lang.Boolean",
      "description": "Enable DB table storage using the application's configured DataSource. Requires spring-boot-starter-jdbc.",
      "sourceType": "com.hshim.apilog.config.ApiLogProperties$DbStorageProperties",
      "defaultValue": false
    },
    {
      "name": "apilog.storage.db.table-name",
      "type": "java.lang.String",
      "description": "Name of the table used to store API logs.",
      "sourceType": "com.hshim.apilog.config.ApiLogProperties$DbStorageProperties",
      "defaultValue": "api_logs"
    },
    {
      "name": "apilog.storage.db.auto-create-table",
      "type": "java.lang.Boolean",
      "description": "Automatically execute CREATE TABLE IF NOT EXISTS on startup.",
      "sourceType": "com.hshim.apilog.config.ApiLogProperties$DbStorageProperties",
      "defaultValue": true
    },
    {
      "name": "apilog.storage.local-file.enabled",
      "type": "java.lang.Boolean",
      "description": "Enable local file storage.",
      "sourceType": "com.hshim.apilog.config.ApiLogProperties$LocalFileStorageProperties",
      "defaultValue": false
    },
    {
      "name": "apilog.storage.local-file.path",
      "type": "java.lang.String",
      "description": "Directory path where log files are written.",
      "sourceType": "com.hshim.apilog.config.ApiLogProperties$LocalFileStorageProperties",
      "defaultValue": "./logs/api"
    },
    {
      "name": "apilog.storage.local-file.logs-per-file",
      "type": "java.lang.Integer",
      "description": "Number of log entries buffered before a new file is flushed.",
      "sourceType": "com.hshim.apilog.config.ApiLogProperties$LocalFileStorageProperties",
      "defaultValue": 1000
    },
    {
      "name": "apilog.storage.local-file.flush-interval-seconds",
      "type": "java.lang.Long",
      "description": "Interval in seconds at which buffered log entries are flushed to a file, regardless of logs-per-file. Set to 0 to disable.",
      "sourceType": "com.hshim.apilog.config.ApiLogProperties$LocalFileStorageProperties",
      "defaultValue": 0
    },
    {
      "name": "apilog.storage.local-file.format",
      "type": "com.hshim.apilog.config.LogFileFormat",
      "description": "Output file format. JSON produces JSONL; CSV produces a CSV with a header row.",
      "sourceType": "com.hshim.apilog.config.ApiLogProperties$LocalFileStorageProperties",
      "defaultValue": "json"
    },
    {
      "name": "apilog.storage.supabase-db.enabled",
      "type": "java.lang.Boolean",
      "description": "Enable Supabase PostgreSQL storage with a dedicated connection (independent of the app DataSource).",
      "sourceType": "com.hshim.apilog.config.ApiLogProperties$SupabaseDbStorageProperties",
      "defaultValue": false
    },
    {
      "name": "apilog.storage.supabase-db.jdbc-url",
      "type": "java.lang.String",
      "description": "JDBC URL for the Supabase PostgreSQL database. e.g. jdbc:postgresql://db.[project-ref].supabase.co:5432/postgres",
      "sourceType": "com.hshim.apilog.config.ApiLogProperties$SupabaseDbStorageProperties"
    },
    {
      "name": "apilog.storage.supabase-db.username",
      "type": "java.lang.String",
      "description": "Supabase DB username.",
      "sourceType": "com.hshim.apilog.config.ApiLogProperties$SupabaseDbStorageProperties",
      "defaultValue": "postgres"
    },
    {
      "name": "apilog.storage.supabase-db.password",
      "type": "java.lang.String",
      "description": "Supabase DB password (found in Project Settings > Database).",
      "sourceType": "com.hshim.apilog.config.ApiLogProperties$SupabaseDbStorageProperties"
    },
    {
      "name": "apilog.storage.supabase-db.table-name",
      "type": "java.lang.String",
      "description": "Name of the table used to store API logs.",
      "sourceType": "com.hshim.apilog.config.ApiLogProperties$SupabaseDbStorageProperties",
      "defaultValue": "api_logs"
    },
    {
      "name": "apilog.storage.supabase-db.auto-create-table",
      "type": "java.lang.Boolean",
      "description": "Automatically execute CREATE TABLE IF NOT EXISTS on startup.",
      "sourceType": "com.hshim.apilog.config.ApiLogProperties$SupabaseDbStorageProperties",
      "defaultValue": true
    },
    {
      "name": "apilog.storage.supabase-s3.enabled",
      "type": "java.lang.Boolean",
      "description": "Enable Supabase S3-compatible storage.",
      "sourceType": "com.hshim.apilog.config.ApiLogProperties$SupabaseS3StorageProperties",
      "defaultValue": false
    },
    {
      "name": "apilog.storage.supabase-s3.endpoint-url",
      "type": "java.lang.String",
      "description": "Supabase S3-compatible endpoint URL. Format: https://[project-ref].supabase.co/storage/v1/s3",
      "sourceType": "com.hshim.apilog.config.ApiLogProperties$SupabaseS3StorageProperties"
    },
    {
      "name": "apilog.storage.supabase-s3.access-key-id",
      "type": "java.lang.String",
      "description": "S3 access key ID — found in Supabase Dashboard > Project Settings > Storage > S3 Access Keys.",
      "sourceType": "com.hshim.apilog.config.ApiLogProperties$SupabaseS3StorageProperties"
    },
    {
      "name": "apilog.storage.supabase-s3.secret-access-key",
      "type": "java.lang.String",
      "description": "S3 secret access key — generated when creating Supabase S3 access keys.",
      "sourceType": "com.hshim.apilog.config.ApiLogProperties$SupabaseS3StorageProperties"
    },
    {
      "name": "apilog.storage.supabase-s3.region",
      "type": "java.lang.String",
      "description": "AWS region string.",
      "sourceType": "com.hshim.apilog.config.ApiLogProperties$SupabaseS3StorageProperties",
      "defaultValue": "ap-northeast-1"
    },
    {
      "name": "apilog.storage.supabase-s3.bucket",
      "type": "java.lang.String",
      "description": "Target bucket name in Supabase Storage.",
      "sourceType": "com.hshim.apilog.config.ApiLogProperties$SupabaseS3StorageProperties",
      "defaultValue": "api-logs"
    },
    {
      "name": "apilog.storage.supabase-s3.key-prefix",
      "type": "java.lang.String",
      "description": "S3 object key prefix (acts as a folder path).",
      "sourceType": "com.hshim.apilog.config.ApiLogProperties$SupabaseS3StorageProperties",
      "defaultValue": "logs/"
    },
    {
      "name": "apilog.storage.supabase-s3.logs-per-file",
      "type": "java.lang.Integer",
      "description": "Number of log entries buffered before uploading a new file.",
      "sourceType": "com.hshim.apilog.config.ApiLogProperties$SupabaseS3StorageProperties",
      "defaultValue": 1000
    },
    {
      "name": "apilog.storage.supabase-s3.format",
      "type": "com.hshim.apilog.config.LogFileFormat",
      "description": "Output file format.",
      "sourceType": "com.hshim.apilog.config.ApiLogProperties$SupabaseS3StorageProperties",
      "defaultValue": "json"
    },
    {
      "name": "apilog.view.enabled",
      "type": "java.lang.Boolean",
      "description": "Enable the built-in view API (log ingestion + query endpoints). Requires DB storage.",
      "sourceType": "com.hshim.apilog.config.ApiLogProperties$ViewProperties",
      "defaultValue": false
    },
    {
      "name": "apilog.view.base-path",
      "type": "java.lang.String",
      "description": "Base path for all view API endpoints.",
      "sourceType": "com.hshim.apilog.config.ApiLogProperties$ViewProperties",
      "defaultValue": "/apilog"
    },
    {
      "name": "apilog.view.api-key",
      "type": "java.lang.String",
      "description": "When set, all view API requests must include the X-Api-Key header. Leave blank to disable authentication.",
      "sourceType": "com.hshim.apilog.config.ApiLogProperties$ViewProperties",
      "defaultValue": ""
    }
  ],
  "hints": [
    {
      "name": "apilog.storage.local-file.format",
      "values": [
        { "value": "json", "description": "JSONL — one JSON object per line" },
        { "value": "csv",  "description": "CSV — header row followed by data rows" }
      ]
    },
    {
      "name": "apilog.storage.supabase-s3.format",
      "values": [
        { "value": "json", "description": "JSONL — one JSON object per line" },
        { "value": "csv",  "description": "CSV — header row followed by data rows" }
      ]
    }
  ]
}
